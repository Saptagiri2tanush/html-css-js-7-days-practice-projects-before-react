<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Filter and cart </title>
</head>
<body>
    <div class="container">
        <header>
    <h1>Product Store</h1>
    <div class="filters">
    <input type = "text" id ="search" placeholder="Search products">
    <select id = "category-filter">
        <option value = "all">All Categories</option>
        <option value = "Clothes">Clothes</option>
        <option value = "Shoes">Shoes</option>
        <option value = "Accessories">Accessories</option>
    </select>
    <select id = "price-filter">
        <option value = "all">All Prices</option>
        <option value = "low">Under 30$</option>
        <option value = "mid">$30-$60</option>
        <option value = "high">Above $60</option>
    </select>
    <select id = "sort">
        <option value = "default">Sort By</option>
        <option value = "low-high">Price : Low to High</option>
        <option value = "high-low">Price : high to Low</option>
       

    </select>
    </div>
    </header>

    <main>
        <section id = "products" class="product-grid">

        </section>
    </main>
    <aside>
        <h2>Cart</h2>
        <ul id = "cart-items">

        </ul>
        <p>Total: $<span id = "total-price">0</span></p>
    </aside>
    </div>
<script>
   
const products = [
    {id : 1, name : "T-shirt",category: "Clothes",price : 25},
    {id : 2, name : "Jeans",category: "Clothes",price : 50},
    {id : 3, name : "Sneakers",category: "Shoes",price : 70},
    {id : 4, name : "Hat",category: "Accessories",price : 15},
    {id : 5, name : "Socks",category: "Clothes",price : 10},
    {id : 6, name : "Boots",category: "Shoes",price : 90},
    {id : 7, name : "Scarf",category: "Accessories",price : 20}
];

let productContainer = document.getElementById("products");
let inputElement = document.getElementById("search");
let categoryElement = document.getElementById("category-filter");
let priceElement = document.getElementById("price-filter");
let sortElement = document.getElementById("sort");


function productDisplay(list) {
    productContainer.innerHTML = list.map(p => `
        <div class="product-card">
            <h3>${p.name}</h3>
            <p>Category: ${p.category}</p>
            <p>Price: $${p.price}</p>
            <button onclick="addToCart(${p.id})">Add to cart</button>
        </div>
    `).join("");
}


function filterProducts(){

    let filtered = [...products];

    const searchText = inputElement.value.toLowerCase();

    if(searchText){
        filtered = filtered.filter(p =>
            p.name.toLowerCase().includes(searchText)
        );
    }

    const category = categoryElement.value;

        if(category !== "all"){
        filtered = filtered.filter(p =>
            p.category === category
        );}
    

    productDisplay(filtered);
}


inputElement.addEventListener("input", filterProducts);
categoryElement.addEventListener("change", filterProducts);

productDisplay(products);
</script>
</body>
</html>